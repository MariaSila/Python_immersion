# –£–¥–∞–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞, __del__

# -----------------------------------------------------------------------------------
# STEP 1. –£–¥–∞–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞, __del__
# –î–∞–Ω–¥–µ—Ä –º–µ—Ç–æ–¥ __del__ —Ç–∞–∫–∂–µ —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±—ã—á–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ –û–û–ü. –û–Ω
# –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞. –ï—Å–ª–∏ –±—ã—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º,
# –º–µ—Ç–æ–¥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –Ω—É–ª—è —Å—á—ë—Ç—á–∏–∫–æ–º —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç, –Ω–æ –ø–µ—Ä–µ–¥ –µ–≥–æ
# —É–¥–∞–ª–µ–Ω–∏–µ–º –∏–∑ –ø–∞–º—è—Ç–∏ —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä.
# –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥–≤—É—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å. –ù–∞—á–∞–ª—Å—è –ø—Ä–æ—Ü–µ—Å—Å
# –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±—ã–ª –≤—ã–∑–≤–∞–Ω –∏—Ö –º–µ—Ç–æ–¥
# __del__. –û–±—ã—á–Ω–æ –º–µ—Ç–æ–¥ __del__ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è —è–≤–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö
# —Ä–µ—Å—É—Ä—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä —ç–∫–∑–µ–º–ø–ª—è—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–¥
# —É–¥–∞–ª–µ–Ω–∏–µ–º –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å.
# üî• –í–∞–∂–Ω–æ! Python –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ —É–¥–∞–ª–∏–ª –±—ã —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∏ –æ—Å–≤–æ–±–æ–¥–∏–ª
# –ø–∞–º—è—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ –¥–∞–Ω–¥–µ—Ä __del__ –Ω–µ –ø—Ä–æ–ø–∏—Å–∞–Ω.

# class User:
#     def __init__(self, name: str):
#         self.name = name
#         print(f'–°–æ–∑–¥–∞–ª {self.name = }')
#
#     def __del__(self):
#         print(f'–£–¥–∞–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ {self.name}')
#
#
# u_1 = User('–°–ø–µ–Ω–≥–ª–µ—Ä')
# u_2 = User('–í–µ–Ω–∫–º–∞–Ω')

# => –°–æ–∑–¥–∞–ª self.name = '–°–ø–µ–Ω–≥–ª–µ—Ä'
# => –°–æ–∑–¥–∞–ª self.name = '–í–µ–Ω–∫–º–∞–Ω'
# => –£–¥–∞–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –°–ø–µ–Ω–≥–ª–µ—Ä
# => –£–¥–∞–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –í–µ–Ω–∫–º–∞–Ω


# ----------------------------------------------------------------------------------
# STEP 2.1.1 –ö–æ–º–∞–Ω–¥–∞ del
# –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ del –Ω–µ —É–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—ã –≤ Python. –û–Ω–æ —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç —Å–≤—è–∑—å
# –º–µ–∂–¥—É –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –æ–±—ä–µ–∫—Ç–æ–º, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É–∫–∞–∑—ã–≤–∞–µ—Ç. –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ —Å
# del –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ–ª—å–∑—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è, –∞ —É –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫.
# –í –º–æ–º–µ–Ω—Ç –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ getrefcount –∏–º–µ–µ–º –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ —Å—Å—ã–ª–æ–∫.
# –ö–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è u_2 –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç, —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫
# —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É. –ö–æ–º–∞–Ω–¥–∞ del —É–º–µ–Ω—å—à–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É. –ê —É–¥–∞–ª–µ–Ω–∏–µ
# –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–¥–∞.
# üî• –í–∞–∂–Ω–æ! –°—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –±–æ–ª—å—à–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ, —Ç–∞–∫
# –∫–∞–∫ —Å–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ.
# –ï—Å–ª–∏ –≤ –∫–æ–¥–µ –¥–æ–ø–∏—Å–∞—Ç—å del u_2 –≤ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–µ, —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
# –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —Ä–∞–Ω—å—à–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã. –°—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –¥–æ—à—ë–ª –¥–æ –Ω—É–ª—è
# –∏ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –æ—Å–≤–æ–±–æ–¥–∏–ª –ø–∞–º—è—Ç—å.

# import sys
# class User:
#     def __init__(self, name: str):
#         self.name = name
#         print(f'–°–æ–∑–¥–∞–ª {self.name=}')
#
#     def __del__(self):
#         print(f'–£–¥–∞–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ {self.name}')
#
#
# u_1 = User('–°–ø–µ–Ω–≥–ª–µ—Ä')
# print(sys.getrefcount(u_1))
# u_2 = u_1
# print(sys.getrefcount(u_1), sys.getrefcount(u_2))
# del u_1
# print(sys.getrefcount(u_2))
# print('–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã')

# => –°–æ–∑–¥–∞–ª self.name='–°–ø–µ–Ω–≥–ª–µ—Ä'
# => 2
# => 3 3
# => 2
# => –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
# => –£–¥–∞–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –°–ø–µ–Ω–≥–ª–µ—Ä


# ----------------------------------------------------------------------------------


