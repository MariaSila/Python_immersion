import time
from typing import Callable
#  STEP 1.1 ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ Ð±ÐµÐ· Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð²
# ÐŸÐµÑ€ÐµÐ´Ð°Ñ‡Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°
#
#
# def main(func: Callable):
#     def wrapper(*args, **kwargs):
#         print(f'Ð—Ð°Ð¿ÑƒÑÐº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ {func.__name__} Ð² {time.time()}')
#         result = func(*args, **kwargs)
#         print(f'Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ {func.__name__}: {result}')
#         print(f'Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ {func.__name__} Ð² {time.time()}')
#         return result
#     return wrapper
#
#
# def factorial(n: int) -> int:
#     f = 1
#     for i in range(2, n + 1):
#         f *= i
#     return f
#
#
# print(f'{factorial(1000)=}')
# control = main(factorial)
# print(f'{control.__name__=}')
# print(f'{control(1000)=}')


# STEP 1.2 Ð¡Ð¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐ°Ñ…Ð°Ñ€ Python, @
# Ð’ ÑÐ·Ñ‹ÐºÐµ Python ÐµÑÑ‚ÑŒ Ð±Ð¾Ð»ÐµÐµ ÑÐ»ÐµÐ³Ð°Ð½Ñ‚Ð½Ð°Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð² â€”
# ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐ°Ñ…Ð°Ñ€. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÑÐ¸Ð¼Ð²Ð¾Ð» â€œ@â€ ÑÐ»Ð¸Ñ‚Ð½Ð¾ Ñ Ð¸Ð¼ÐµÐ½ÐµÐ¼
# Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð°. Ð¡Ñ‚Ñ€Ð¾ÐºÐ° ÐºÐ¾Ð´Ð° Ð¿Ð¸ÑˆÐµÑ‚ÑÑ Ð½ÐµÐ¿Ð¾ÑÑ€ÐµÐ´ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ Ð½Ð°Ð´ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸ÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð°.
# Ð”Ð¾Ð±Ð°Ð²Ð¸Ð»Ð¸ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ @main Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ factorial. ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð² Ð¿Ñ€Ð¸ÑÐ²Ð°Ð¸Ð²Ð°Ð½Ð¸Ð¸
# Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð½Ð¾Ð²Ð¾Ð¹ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ Ð¾Ñ‚Ð¿Ð°Ð»Ð°. ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð½Ð¸Ð¶Ð½Ð¸Ñ… ÑÑ‚Ñ€Ð¾Ðº ÐºÐ¾Ð´Ð° Ð¸Ð· ÑÑ‚Ð°Ñ€Ð¾Ð³Ð¾
# Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð° ÑƒÐ´Ð°Ð»Ð¸Ð»Ð¸ Ð·Ð° Ð½ÐµÐ½Ð°Ð´Ð¾Ð±Ð½Ð¾ÑÑ‚ÑŒÑŽ. ÐšÑ€Ð¾Ð¼Ðµ Ñ‚Ð¾Ð³Ð¾ Ð¼Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸ ÑÑ‚Ð°Ñ€Ð¾Ðµ Ð¸Ð¼Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.
# ðŸ”¥ Ð’Ð°Ð¶Ð½Ð¾! Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ Ð´Ð¾Ð»Ð¶Ð½Ð° Ð±Ñ‹Ñ‚ÑŒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð° Ð² ÐºÐ¾Ð´Ðµ Ñ€Ð°Ð½ÑŒÑˆÐµ, Ñ‡ÐµÐ¼
# Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð°. Ð’ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð½Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð¼ Ð¾ÑˆÐ¸Ð±ÐºÑƒ NameError
# def main(func: Callable):
#     def wrapper(*args, **kwargs):
#         print(f'Ð—Ð°Ð¿ÑƒÑÐº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ {func.__name__} Ð² {time.time()}')
#         result = func(*args, **kwargs)
#         print(f'Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ {func.__name__}: {result}')
#         print(f'Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ {func.__name__} Ð² {time.time()}')
#         return result
#     return wrapper
#
#
# @main
# def factorial(n: int) -> int:
#     f = 1
#     for i in range(2, n + 1):
#         f *= i
#     return f
#
#
# print(f'{factorial(1000)=}')


# STEP 1.3 ÐœÐ½Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ Ð´ÐµÐºÐ¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ.
# Python Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð² Ð½Ð° Ð¾Ð´Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.
# ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚Ðµ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð½Ð° Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð² Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ main. Ð‘Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ð¹ Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
# Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ A. Ð”ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ Ð¡ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð² ÑÐ¿Ð¸ÑÐºÐµ, Ñ‚.Ðµ. Ð¾Ð½ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ ÑƒÐ´Ð°Ð»Ñ‘Ð½ Ð¾Ñ‚ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.
# ÐŸÑ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ ÐºÐ¾Ð´Ð° Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð´ÐµÐºÐ¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ ÑÐ½Ð¸Ð·Ñƒ Ð²Ð²ÐµÑ€Ñ…, Ñ A, Ð´Ð°Ð»ÐµÐµ B Ð¸ Ð»Ð¸ÑˆÑŒ Ð¿Ð¾Ñ‚Ð¾Ð¼ C.
# ÐŸÑ€ÐµÐ¶Ð´Ðµ Ñ‡ÐµÐ¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ ÐºÐ¾Ð´ Ð²ÐµÑ€Ñ…Ð½ÐµÐ³Ð¾
# Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð° Ð¡, Ð´Ð°Ð»ÐµÐµ B, Ð² ÐºÐ¾Ð½Ñ†Ðµ Ð½Ð¸Ð¶Ð½Ð¸Ð¹ A Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ñ‚Ð¾Ð¼ ÐºÐ¾Ð´ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ main. ÐŸÐ¾ÑÐ»Ðµ
# Ñ‚Ð¾Ð³Ð¾ ÐºÐ°Ðº Ð´ÐµÐºÐ¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð¸ Ð²ÐµÑ€Ð½ÑƒÐ»Ð° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚
# Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°ÑŽÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð² Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð¼ ÑÑ‚Ð°Ñ€Ñ‚Ñƒ Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ, ÑÐ½Ð¸Ð·Ñƒ Ð²Ð²ÐµÑ€Ñ…. Ð’
# Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ñ€ÐµÑˆÐ°ÐµÐ¼Ñ‹Ñ… Ð·Ð°Ð´Ð°Ñ‡ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð´ÐµÐºÐ¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¸Ð²ÐµÑÑ‚Ð¸ Ðº Ñ€Ð°Ð·Ð½Ñ‹Ð¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°Ð¼
# def deco_a(func: Callable):
#     def wrapper_a(*args, **kwargs):
#         print('Ð¡Ñ‚Ð°Ñ€Ñ‚ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð° A')
#         print(f'Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ {func.__name__}')
#         res = func(*args, **kwargs)
#         print(f'Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð° A')
#         return res
#
#     print('Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ A')
#     return wrapper_a
#
#
# def deco_b(func: Callable):
#     def wrapper_b(*args, **kwargs):
#         print('Ð¡Ñ‚Ð°Ñ€Ñ‚ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð° B')
#         print(f'Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ {func.__name__}')
#         res = func(*args, **kwargs)
#         print(f'Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð° B')
#         return res
#
#     print('Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ B')
#     return wrapper_b
#
#
# def deco_c(func: Callable):
#     def wrapper_c(*args, **kwargs):
#         print('Ð¡Ñ‚Ð°Ñ€Ñ‚ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð° C')
#         print(f'Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ {func.__name__}')
#         res = func(*args, **kwargs)
#         print(f'Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð° C')
#         return res
#
#     print('Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ C')
#     return wrapper_c
#
#
# @deco_c
# @deco_b
# @deco_a
# def main():
#     print('Ð¡Ñ‚Ð°Ñ€Ñ‚ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸')
#
#
# main()


# STEP 1.4 Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð² Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ðµ
# Ð’Ð½ÑƒÑ‚Ñ€Ð¸ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð° cache ÑÐ¾Ð·Ð´Ð°Ð»Ð¸ Ð¿ÑƒÑÑ‚Ð¾Ð¹ ÑÐ»Ð¾Ð²Ð°Ñ€ÑŒ _cache_dict. ÐŸÑ€Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð²Ñ‹Ð·Ð¾Ð²Ðµ
# Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ factorial Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð¾Ð±Ñ‘Ñ€Ñ‚ÐºÐ¸ wrapper Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°. Ð•ÑÐ»Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð½Ð¾Ðµ
# Ð´Ð»Ñ Ð½Ð°Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»Ð° Ñ‡Ð¸ÑÐ»Ð¾ Ð½Ðµ ÑÐ²Ð»ÑÐµÑ‚ÑÑ ÐºÐ»ÑŽÑ‡Ñ‘Ð¼ ÑÐ»Ð¾Ð²Ð°Ñ€Ñ, ÑÐ¾Ð·Ð´Ð°Ñ‘Ð¼
# ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ ÐºÐ»ÑŽÑ‡ Ð¸ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸ÑÐ²Ð°Ð¸Ð²Ð°ÐµÐ¼ ÐµÐ¼Ñƒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚
# Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»Ð°. ÐšÐ¾Ð³Ð´Ð° Ð² ÑÐ»Ð¾Ð²Ð°Ñ€Ðµ ÐµÑÑ‚ÑŒ ÐºÐ»ÑŽÑ‡, Ð´ÐµÐºÐ¾Ñ€Ð¸Ñ€ÑƒÐµÐ¼Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð½Ðµ
# Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ, Ð° Ð¾Ñ‚Ð²ÐµÑ‚ ÑÑ€Ð°Ð·Ñƒ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð¸Ð· ÑÐ»Ð¾Ð²Ð°Ñ€Ñ.
# ðŸ”¥ Ð’Ð°Ð¶Ð½Ð¾! ÐœÑ‹ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ Ð¸ÑÐºÐ»ÑŽÑ‡Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ **kwargs Ð¸Ð· Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
# wrapper, Ñ‚.Ðº. ÑÑ‚Ð¾ ÑÐ»Ð¾Ð²Ð°Ñ€ÑŒ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ñ… Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð². ÐŸÐ¾Ð¿Ñ‹Ñ‚ÐºÐ° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð²
# ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ ÐºÐ»ÑŽÑ‡Ð° ÑÐ»Ð¾Ð²Ð°Ñ€Ñ _cache_dict Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ ÑÐ»Ð¾Ð²Ð°Ñ€Ñ kwargs Ð¿Ñ€Ð¸Ð²ÐµÐ´Ñ‘Ñ‚ Ðº Ð¾ÑˆÐ¸Ð±ÐºÐµ.
# ÐšÐ»ÑŽÑ‡Ð¾Ð¼ Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹ÑÑ‚ÑƒÐ¿Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½ÐµÐ¸Ð·Ð¼ÐµÐ½ÑÐµÐ¼Ñ‹Ðµ Ð¾Ð±ÑŠÐµÐºÑ‚Ñ‹
# def cache(func: Callable):
#     _cache_dict = {}
#
#     def wrapper(*args):
#         if args not in _cache_dict:
#             _cache_dict[args] = func(*args)
#         return _cache_dict[args]
#     return wrapper
#
#
# @cache
# def factorial(n: int) -> int:
#     print(f'Ð’Ñ‹Ñ‡Ð¸ÑÐ»ÑÑŽ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð» Ð´Ð»Ñ Ñ‡Ð¸ÑÐ»Ð° {n}')
#     f = 1
#     for i in range(2, n + 1):
#         f *= i
#     return f
#
#
# print(f'{factorial(10)=}')
# print(f'{factorial(15)=}')
# print(f'{factorial(10)=}')
# print(f'{factorial(20)=}')
# print(f'{factorial(10)=}')
# print(f'{factorial(20)=}')


# STEP 2.1 Ð”ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸
# Ð”Ð¾ ÑÑ‚Ð¾Ð³Ð¾ Ð¼Ñ‹ Ð²ÐºÐ»Ð°Ð´Ñ‹Ð²Ð°Ð»Ð¸ Ð¾Ð´Ð½Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð² Ð´Ñ€ÑƒÐ³ÑƒÑŽ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð·Ð°Ð¼Ñ‹ÐºÐ°Ð½Ð¸Ñ. Ð•ÑÐ»Ð¸ Ð¼Ñ‹
# Ñ…Ð¾Ñ‚Ð¸Ð¼ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ Ð² Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹, Ð¿Ð¾Ð½Ð°Ð´Ð¾Ð±Ð¸Ñ‚ÑÑ Ñ‚Ñ€ÐµÑ‚Ð¸Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸
# Ð”ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€ Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð¼ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ð»ÑŽÐ±Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð¿Ñ€ÐµÐ´Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ
# ðŸ”¥ Ð’Ð°Ð¶Ð½Ð¾! ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð´ÑƒÐ±Ð»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð½Ðµ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾. ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð¸Ð· Ð´Ð²ÑƒÑ…
# Ð·Ð°Ð¿ÑƒÑÐºÐ¾Ð² Ð´ÐµÐ»Ð°ÐµÑ‚ Ð¿Ð¾ 10 Ð·Ð°Ð¼ÐµÑ€Ð¾Ð². Ð•ÑÐ»Ð¸ Ð±Ñ‹ ÑÐ¿Ð¸ÑÐ¾Ðº time_for_count Ð±Ñ‹Ð» ÑÐ¾Ð·Ð´Ð°Ð½ Ð½Ð°
# ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð²Ñ‹ÑˆÐµ, Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ deco, Ð¿Ñ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð¾ Ð±Ñ‹ ÐµÐ³Ð¾ Ð·Ð°Ð¼Ñ‹ÐºÐ°Ð½Ð¸Ðµ. Ð’ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ðµ
# ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð½Ð¾Ð²Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ factorial Ð´Ð¾Ð¿Ð¾Ð»Ð½ÑÐ» Ð±Ñ‹ ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº,
# Ð° Ð½Ðµ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ð» Ð±Ñ‹ Ð½Ð¾Ð²Ñ‹Ðµ 10 Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹.
# ðŸ”¥ Ð’Ð°Ð¶Ð½Ð¾! Ð”Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ ÐºÐ¾Ð´Ð° Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ
# Ð¼Ð¾Ð´ÑƒÐ»ÑŒ timeit Ð¸Ð· â€œÐ±Ð°Ñ‚Ð°Ñ€ÐµÐµÐº Pythonâ€, Ð° Ð½Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð²Ñ‹ÑˆÐµ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€.
def count(num: int = 1):
    def deco(func: Callable):
        def wrapper(*args, **kwargs):
            time_for_count = []
            result = None
            for _ in range(num):
                start = time.perf_counter()
                result = func(*args, **kwargs)
                stop = time.perf_counter()
                time_for_count.append(stop - start)

            print(f'Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð·Ð°Ð¼ÐµÑ€Ð¾Ð² {time_for_count}')
            return result
        return wrapper
    return deco


@count(10)
def factorial(n: int) -> int:
    f = 1
    for i in range(2, n + 1):
        f *= i
    return f


print(f'{factorial(1000)=}')
print(f'{factorial(1000)=}')




